function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{yXWL:function(e,t,o){"use strict";o.r(t);var n=o("PCNd"),r=o("iInd");function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var a,i,l=o("s7LF"),s=o("hecr"),u=o("EvqT"),b=o("PZkE"),p=o("Kj3r"),m=o("y7ui"),f=o("OLiY"),d=o("uzWi"),h=o("8Y7J"),y=o("o0su"),C=o("zRaO"),g=[[["","formFields",""]],[["","formControls",""]]],k=function(e){return[e]},v=["[formFields]","[formControls]"],x=d.c.makeStyles((function(e){var t;return{EntityForm:{},Fields:{padding:e.mixins.spacing(1),width:"100%",backgroundColor:e.palette.background.paper,"& [formField]":_defineProperty({display:"block",minWidth:250,maxWidth:"100%","&:not(:last-child)":{marginBottom:e.mixins.spacing(2)},"&[full]":{width:"100%"},"&[half]":{width:"50%"},"&[quarter]":{width:"25%"},"&[inline]":{marginRight:e.mixins.spacing(2),display:"inline-block"}},e.breakpoints.down("sm"),{marginRight:"".concat(e.mixins.spacing(2)," !important"),minWidth:0,width:"100% !important"})},Controls:(t={margin:e.mixins.spacing(3,0),display:"flex",flexWrap:"wrap",alignItems:"center",alignContent:"center",width:"100%"},_defineProperty(t,e.breakpoints.down("md"),{margin:e.mixins.spacing(2,0)}),_defineProperty(t,"& [formButton]",{marginBottom:e.mixins.spacing(3),"&:not(:last-of-type)":{marginRight:e.mixins.spacing(3)}}),t)}})),T=((a=function e(){_classCallCheck(this,e),this.classes=d.c.useStyles(this,x)}).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=h.Ib({type:a,selectors:[["jss-form"]],ngContentSelectors:v,decls:5,vars:9,consts:[[3,"clsx"]],template:function(e,t){1&e&&(h.ic(g),h.Ub(0,"form",0),h.Ub(1,"section",0),h.hc(2),h.Tb(),h.Ub(3,"section",0),h.hc(4,1),h.Tb(),h.Tb()),2&e&&(h.jc("clsx",h.lc(3,k,t.classes.EntityForm)),h.Cb(1),h.jc("clsx",h.lc(5,k,t.classes.Fields)),h.Cb(2),h.jc("clsx",h.lc(7,k,t.classes.Controls)))},directives:[l.m,l.j,l.k,C.a],encapsulation:2}),a),j=o("Q2Ze"),w=o("e6WT"),P=["colorInput"],U=function(e){return[e]},S=d.c.makeStyles((function(){return{ColorPicker:{display:"block",width:"100%",height:"100%",boxShadow:"inherit",borderRadius:"inherit","& > input":{visibility:"hidden"}}}})),O=((i=function(){function e(){_classCallCheck(this,e),this.onInput=new h.n,this.classes=d.c.useStyles(this,S)}return _createClass(e,[{key:"handleClick",value:function(){this.colorInput.nativeElement.click()}},{key:"handleChange",value:function(e){this.control.setValue(e.currentTarget.value),this.onInput.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=h.Ib({type:i,selectors:[["jss-color-picker"]],viewQuery:function(e,t){var o;1&e&&h.uc(P,!0),2&e&&h.nc(o=h.dc())&&(t.colorInput=o.first)},inputs:{control:"control"},outputs:{onInput:"onInput"},decls:2,vars:5,consts:[[3,"clsx"],["matInput","","type","color",3,"input"]],template:function(e,t){1&e&&(h.Ub(0,"label",0),h.Ub(1,"input",1),h.cc("input",(function(e){return t.handleChange(e)})),h.Tb(),h.Tb()),2&e&&(h.vc("background-color",t.control.value),h.jc("clsx",h.lc(3,U,t.classes.ColorPicker)))},directives:[C.a,w.a],styles:["[_nghost-%COMP%] { display: block; }"]}),i),N=o("Dxy4"),I=o("Tj54"),_=function(e){return[e]};function F(e,t){if(1&e&&(h.Ub(0,"mat-tree-node",16),h.Ub(1,"li",17),h.Pb(2,"button",18),h.Ub(3,"span",0),h.xc(4),h.Tb(),h.Ub(5,"span",0),h.xc(6),h.Tb(),h.Tb(),h.Tb()),2&e){var o=t.$implicit,n=h.gc();h.Cb(3),h.jc("clsx",h.lc(4,_,n.defineClass("",o.value))),h.Cb(1),h.yc(n.formatKey(o)),h.Cb(1),h.jc("clsx",h.lc(6,_,n.defineClass(o.value))),h.Cb(1),h.yc(n.formatValue(o))}}var R=function(e,t){return[e,t]};function D(e,t){if(1&e&&(h.Ub(0,"mat-nested-tree-node"),h.Ub(1,"li"),h.Ub(2,"div",17),h.Ub(3,"button",19),h.Ub(4,"mat-icon"),h.xc(5),h.Tb(),h.Tb(),h.Ub(6,"span",0),h.xc(7),h.Tb(),h.Ub(8,"span",0),h.xc(9),h.Tb(),h.Tb(),h.Ub(10,"ul",0),h.Qb(11,20),h.Tb(),h.Tb(),h.Tb()),2&e){var o=t.$implicit,n=h.gc();h.Cb(3),h.Db("aria-label","toggle "+o.key),h.Cb(2),h.yc(n.treeControl.isExpanded(o)?"expand_more":"chevron_right"),h.Cb(1),h.jc("clsx",h.lc(7,_,n.defineClass("",o.value))),h.Cb(1),h.yc(n.formatKey(o)),h.Cb(1),h.jc("clsx",h.lc(9,_,n.defineClass(o.value))),h.Cb(1),h.yc(n.formatValue(o)),h.Cb(1),h.jc("clsx",h.mc(11,R,n.classes.List,!n.treeControl.isExpanded(o)&&n.classes.NestedTree))}}var L,V,W=d.c.makeStyles((function(e){return{Title:{marginBottom:e.mixins.spacing(3),font:e.mixins.font("h5"),color:e.palette.primary.main},ColorPicker:{width:"50px !important",minWidth:"50px !important",borderRadius:e.shape.borderRadius,boxShadow:e.shadows[1]},Tree:{padding:e.mixins.spacing(2,0),background:e.palette.background.paper,"& .mat-tree-node":{height:e.mixins.spacing(3),minHeight:e.mixins.spacing(3),whiteSpace:"nowrap",color:e.palette.text.primary}},NestedTree:{display:"none"},List:{paddingLeft:e.mixins.spacing(3),overflowX:"scroll",overflowY:"hidden"},Key:{marginRight:e.mixins.spacing(.5)},FunctionValue:{color:e.palette.warning.main},NumberValue:{color:e.palette.primary.main},StringValue:{color:e.palette.secondary.main}}})),E=[{path:"",component:(L=function(){function e(t,o){_classCallCheck(this,e),this.store=t,this.formBuilder=o,this.treeControl=new m.j((function(e){return e.children})),this.dataSource=new f.d}return _createClass(e,[{key:"ngOnInit",value:function(){this.initForm(),this.listenThemeChanges(),this.dataSource.data=this.createTreeLikeStructure(this.store.state.theme.theme)}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe(),this.formSub&&this.formSub.unsubscribe()}},{key:"isNested",value:function(e,t){return!!t.children&&t.children.length>0}},{key:"handleApply",value:function(){var e=Object.assign(Object.assign({},d.b),{palette:Object(s.createPalette)({primary:{main:this.form.value.primaryColor||"#1976d2"},secondary:{main:this.form.value.secondaryColor||"#dc004e"},background:{default:this.form.value.backgroundDefaultColor||"#fafafa",paper:this.form.value.backgroundPaperColor||"#fafafa"},text:{primary:this.form.value.textColor||"rgba(0, 0, 0, 0.87)"}})});this.store.set("theme",{title:"Custom",theme:e})}},{key:"defineClass",value:function(e,t){return t&&"function"==typeof t?"".concat(this.classes.Key," ").concat(this.classes.FunctionValue):e&&"string"==typeof e?"".concat(this.classes.Key," ").concat(this.classes.StringValue):e&&"number"==typeof e?"".concat(this.classes.Key," ").concat(this.classes.NumberValue):this.classes.Key}},{key:"formatKey",value:function(e){var t,o=e.key,n=e.value,r=e.children,c=r?(t=typeof r)[0].toUpperCase()+t.slice(1):"";return o&&"function"==typeof n?"".concat(o,"(): ").concat(c):"".concat(o,": ").concat(c)}},{key:"formatValue",value:function(e){var t=e.value;if((t||0===t||!1===t)&&"function"!=typeof t)return"string"==typeof t?'"'.concat(t,'"'):String(t)}},{key:"listenThemeChanges",value:function(){var e=this;this.sub=this.store.state$.pipe(Object(b.a)("theme")).pipe(Object(p.a)(100)).subscribe((function(t){var o=t.theme;e.initForm(o.theme),e.dataSource.data=e.createTreeLikeStructure(e.store.state.theme.theme)}))}},{key:"createTreeLikeStructure",value:function(e){return function e(t){var o=[];return Object.keys(t).forEach((function(n){"updatedHash"!==n&&o.push(t[n]instanceof Object&&"function"!=typeof t[n]?{key:n,children:e(t[n])}:{key:n,value:t[n]})})),o}(e)}},{key:"initForm",value:function(e){this.form=this.formBuilder.group({primaryColor:new l.c(e&&e.palette&&e.palette.primary.main||""),secondaryColor:new l.c(e&&e.palette&&e.palette.secondary.main||""),backgroundDefaultColor:new l.c(e&&e.palette&&e.palette.background&&e.palette.background.default||""),backgroundPaperColor:new l.c(e&&e.palette&&e.palette.background&&e.palette.background.paper||""),textColor:new l.c(e&&e.palette&&e.palette.text&&e.palette.text.primary||"")})}}]),e}(),L.\u0275fac=function(e){return new(e||L)(h.Ob(y.a),h.Ob(l.b))},L.\u0275cmp=h.Ib({type:L,selectors:[["jss-create-theme"]],decls:35,vars:36,consts:[[3,"clsx"],[3,"formGroup"],["formFields",""],["formField",""],["formField","","inline",""],["matInput","","formControlName","primaryColor","placeholder","Primary color"],["formField","","inline","",3,"clsx","control"],["matInput","","formControlName","secondaryColor","placeholder","Secondary color"],["matInput","","formControlName","backgroundDefaultColor","placeholder","Background color"],["matInput","","formControlName","backgroundPaperColor","placeholder","Background color"],["matInput","","formControlName","textColor","placeholder","Text color"],["formControls",""],["mat-raised-button","",3,"click"],[3,"dataSource","treeControl","clsx"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],["mat-icon-button","","matTreeNodeToggle",""],["matTreeNodeOutlet",""]],template:function(e,t){1&e&&(h.Ub(0,"article",0),h.Ub(1,"section"),h.Ub(2,"h2",0),h.xc(3,"Choose colors for custom theme: "),h.Tb(),h.Ub(4,"jss-form",1),h.Sb(5,2),h.Ub(6,"div",3),h.Ub(7,"mat-form-field",4),h.Pb(8,"input",5),h.Tb(),h.Pb(9,"jss-color-picker",6),h.Tb(),h.Ub(10,"div",3),h.Ub(11,"mat-form-field",4),h.Pb(12,"input",7),h.Tb(),h.Pb(13,"jss-color-picker",6),h.Tb(),h.Ub(14,"div",3),h.Ub(15,"mat-form-field",4),h.Pb(16,"input",8),h.Tb(),h.Pb(17,"jss-color-picker",6),h.Tb(),h.Ub(18,"div",3),h.Ub(19,"mat-form-field",4),h.Pb(20,"input",9),h.Tb(),h.Pb(21,"jss-color-picker",6),h.Tb(),h.Ub(22,"div",3),h.Ub(23,"mat-form-field",4),h.Pb(24,"input",10),h.Tb(),h.Pb(25,"jss-color-picker",6),h.Tb(),h.Rb(),h.Sb(26,11),h.Ub(27,"button",12),h.cc("click",(function(){return t.handleApply()})),h.xc(28,"Apply colors"),h.Tb(),h.Rb(),h.Tb(),h.Tb(),h.Ub(29,"section"),h.Ub(30,"h2",0),h.xc(31,"Current theme object: "),h.Tb(),h.Ub(32,"mat-tree",13),h.wc(33,F,7,8,"mat-tree-node",14),h.wc(34,D,12,14,"mat-nested-tree-node",15),h.Tb(),h.Tb(),h.Tb()),2&e&&(h.jc("clsx",h.lc(18,_,t.classes.Root)),h.Cb(2),h.jc("clsx",h.lc(20,_,t.classes.Title)),h.Cb(2),h.jc("formGroup",t.form),h.Cb(5),h.jc("clsx",h.lc(22,_,t.classes.ColorPicker))("control",t.form.get("primaryColor")),h.Cb(4),h.jc("clsx",h.lc(24,_,t.classes.ColorPicker))("control",t.form.get("secondaryColor")),h.Cb(4),h.jc("clsx",h.lc(26,_,t.classes.ColorPicker))("control",t.form.get("backgroundDefaultColor")),h.Cb(4),h.jc("clsx",h.lc(28,_,t.classes.ColorPicker))("control",t.form.get("backgroundPaperColor")),h.Cb(4),h.jc("clsx",h.lc(30,_,t.classes.ColorPicker))("control",t.form.get("textColor")),h.Cb(5),h.jc("clsx",h.lc(32,_,t.classes.Title)),h.Cb(2),h.jc("dataSource",t.dataSource)("treeControl",t.treeControl)("clsx",h.lc(34,_,t.classes.Tree)),h.Cb(2),h.jc("matTreeNodeDefWhen",t.isNested))},directives:[C.a,T,l.j,l.e,j.a,w.a,l.a,l.i,l.d,O,N.b,f.b,f.f,f.e,f.h,f.a,I.a,f.g],encapsulation:2}),function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);c>3&&a&&Object.defineProperty(t,o,a)}([Object(u.UseStyles)(W),c("design:type",Object)],L.prototype,"classes",void 0),L)}],K=((V=function e(){_classCallCheck(this,e)}).\u0275mod=h.Mb({type:V}),V.\u0275inj=h.Lb({factory:function(e){return new(e||V)},imports:[[r.b.forChild(E)],r.b]}),V);o.d(t,"CreateThemeModule",(function(){return M}));var B,M=((B=function e(){_classCallCheck(this,e)}).\u0275mod=h.Mb({type:B}),B.\u0275inj=h.Lb({factory:function(e){return new(e||B)},imports:[[n.a,K]]}),B)}}]);